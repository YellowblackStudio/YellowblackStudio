<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pasta Online com GoFile</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #1a1a1a;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
}
h1 {
    margin-bottom: 20px;
}
input, button {
    margin: 10px;
    padding: 10px;
}
button {
    background-color: #00bfff;
    border: none;
    color: white;
    cursor: pointer;
    border-radius: 5px;
    font-size: 16px;
}
button:hover {
    background-color: #009acd;
}
#link {
    margin-top: 15px;
    word-break: break-word;
    color: #00bfff;
}
</style>
</head>
<body>

<h1>Pasta Online – Upload via GoFile</h1>

<input type="file" id="fileInput" required>
<button onclick="upload()">Enviar Arquivo</button>

<p id="status"></p>
<p id="link"></p>

<script>
async function upload() {
    const fileInput = document.getElementById('fileInput');
    if (!fileInput.files.length) {
        alert("Escolha um arquivo!");
        return;
    }

    const file = fileInput.files[0];
    const status = document.getElementById('status');
    const linkDiv = document.getElementById('link');

    status.textContent = "Enviando...";
    linkDiv.textContent = "";

    try {
        // 1️⃣ Pegar servidor GoFile
        const serverRes = await fetch('https://api.gofile.io/getServer');
        const serverData = await serverRes.json();
        const server = serverData.data.server;

        // 2️⃣ Criar FormData com arquivo
        const formData = new FormData();
        formData.append("file", file);

        // 3️⃣ Upload para GoFile
        const uploadRes = await fetch(`https://${server}.gofile.io/uploadFile`, {
            method: 'POST',
            body: formData
        });

        const uploadData = await uploadRes.json();

        if (uploadData.status === "ok") {
            status.textContent = "Upload concluído!";
            const fileLink = uploadData.data.downloadPage;
            linkDiv.innerHTML = `Link para download:<br><a href="${fileLink}" target="_blank">${fileLink}</a>`;
        } else {
            status.textContent = "Erro no upload, tente novamente.";
        }
    } catch (err) {
        console.error(err);
        status.textContent = "Erro no upload, tente novamente.";
    }
}
</script>

</body>
</html>
